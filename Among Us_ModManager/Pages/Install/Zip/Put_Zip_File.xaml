<?xml version="1.0" encoding="utf-8"?>
<Page Title="Put_Zip_File"
      x:Class="Among_Us_ModManager.Pages.PutZipFile.Put_Zip_File"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- ヘッダー -->
            <StackPanel Grid.Row="0" Margin="0,0,0,20">
                <TextBlock FontSize="28" FontWeight="Bold" Margin="0,0,0,10" Text="MOD展開＆設置"/>
                <TextBlock FontSize="16" Text="ZIPファイルを展開してインストール中です..." x:Name="IntroTextBlock"/>
                <TextBlock FontSize="16" Margin="0,10,0,0" Text="インストールが完了しました。" Visibility="Collapsed" x:Name="FinishTextBlock"/>
            </StackPanel>

            <!-- プログレスバーとログ -->
            <StackPanel Grid.Row="1">
                <ProgressBar Height="20" Margin="0,0,0,10" Maximum="100" Minimum="0" x:Name="InstallProgressBar"/>
                <TextBlock FontSize="16" Height="40" Margin="0,0,0,10" Text="準備中..." TextWrapping="Wrap" x:Name="StatusTextBlock"/>
                <ScrollViewer Height="200" Margin="0,0,0,10" VerticalScrollBarVisibility="Auto">
                    <TextBox AcceptsReturn="True" IsReadOnly="True" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" x:Name="LogTextBox"/>
                </ScrollViewer>
            </StackPanel>

            <!-- フッター：戻るボタン＋ホームに戻る -->
            <Grid Grid.Row="2" Margin="0,10,0,0">
                <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">

                    <!-- 戻るボタン（最初は非表示） -->
                    <Button Height="35" Width="100" Visibility="Collapsed" x:Name="BackButton" Margin="0,0,10,0" Click="BackButton_Click">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Grid>
                                    <Border Background="#F0F0F0" CornerRadius="5" BorderBrush="Gray" BorderThickness="1"/>
                                    <TextBlock Text="戻る" FontWeight="Bold"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Grid>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Opacity" Value="0.7"/>
                                    </Trigger>
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter Property="Opacity" Value="0.5"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <!-- ホームに戻るボタン -->
                    <Button Height="35" Width="150" Visibility="Collapsed" x:Name="ReturnHomeButton" Click="ReturnHomeButton_Click">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Grid>
                                    <Border Background="#F0F0F0" CornerRadius="5" BorderBrush="Gray" BorderThickness="1"/>
                                    <TextBlock Text="ホームに戻る" FontWeight="Bold"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Grid>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Opacity" Value="0.7"/>
                                    </Trigger>
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter Property="Opacity" Value="0.5"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                </StackPanel>
            </Grid>
        </Grid>
    </ScrollViewer>
</Page>
